created_at: '2026-01-26T22:30:00+08:00'
execution_order:
  phase_1_critical:
    description: 高优先级修复（并行执行）
    parallel: true
    tasks:
    - 'M1: 96.9% 澄清'
    - 'M2: E2E 定量估计'
    - 'M3: Table 数据一致性'
    - 'm4: 作者名拼写'
  phase_2_figures:
    description: Figure 和 caption 修改
    parallel: true
    tasks:
    - 'm1: Figure 1 具体数字'
    - 'm6: Table 1 脚注'
  phase_3_content:
    description: 内容补充
    parallel: true
    tasks:
    - 'm2: FlashAttention 代码引用'
    - 'm3: 压缩方法澄清'
  phase_4_optional:
    description: 低优先级（可选）
    parallel: true
    tasks:
    - 'm5: Equation 简化评估'
issues:
- actions:
  - agent: writer
    expected_output: 更新后的 main.tex，M1 修改完成
    status: pending
    step: 1
    task: "精确修改以下位置：\n\n1. Abstract (around line 75-76):\n   当前: \"88% increase in\
      \ SDPA latency\"\n   需要在后续提到维度分布时添加 \"(theoretical analysis)\" 限定词\n\n2. Fig\
      \ 3 caption (line 190-191):\n   当前: \"Distribution of head dimensions from Fisher-information-based\
      \ rank allocation\"\n   改为: \"Theoretical dimension distribution from Fisher-information-based\
      \ rank allocation (unconstrained SVD)\"\n\n3. §1 Introduction 首次提到 96.9% (line\
      \ 108):\n   当前脚注已存在，确认内容充分\n\n4. 检查是否需要在 Abstract 中更显式说明 scope\n"
  depends_on: []
  description: 'Reviewer 指出：

    - Abstract 中 "96.9% misaligned" 来自理论分析，不是实际 checkpoint

    - Fig 3 caption 说 "Fisher-information-based" 但仍显误导

    - 脚注存在但 main text 和 caption 仍让人误解


    当前状态：论文已有脚注（line 108），但 Abstract 和 caption 措辞仍不够清晰。


    Reviewer 建议：

    1. 在 Abstract 的 "96.9%" 后添加 "(theoretical analysis)"

    2. 修改 Fig 3 caption 为 "theoretical/unconstrained SVD compression"

    3. 添加一句说明生产 PaLU 已对齐

    '
  id: M1
  inner_loop_count: 0
  max_inner_loops: 1
  priority: high
  status: completed
  title: Clarify 96.9% Misalignment Claim (Abstract, §3.2, Fig 3)
  type: WRITING_ONLY
- actions:
  - agent: writer
    expected_output: 扩展后的 Limitations 段落，包含定量 E2E 估计
    status: pending
    step: 1
    task: "采用 Option B，修改 Limitations 部分（当前在 §6.5 Accuracy Preservation 后）：\n\n1.\
      \ 扩展当前 Limitations 段落（line 459-461）\n\n2. 添加以下内容：\n   \"\\paragraph{E2E Impact\
      \ Estimate.}\n   Our kernel-level experiments validate 25--30\\% speedup on\
      \ SDPA operations.\n   Since attention constitutes approximately 30\\% of LLM\
      \ inference time~\\cite{flashattention2},\n   we estimate E2E improvements of\
      \ 7--9\\% for prefill and 2--3\\% for decode\n   (where memory bandwidth dominates).\n\
      \   This extrapolation assumes similar alignment benefits across layers.\"\n\
      \n3. 确保 §6.4 的 Scope Note 与新 Limitations 内容一致\n"
  depends_on: []
  description: "Reviewer 指出：核心主张是\"压缩产生不对齐维度导致性能下降\"，但验证只有 kernel level。\n\n可用选项：\n\
    - Option A: 获取真正不对齐的 checkpoint（需要实验，困难）\n- Option B: 扩展 Limitations，提供定量估计（WRITING_ONLY）\n\
    - Option C: 移除 §6.4（过于激进）\n\n决策：采用 Option B\n- 在 Limitations 中添加定量估计\n- \"Based\
    \ on kernel-level improvements of 25-30% on attention operations that\n   constitute\
    \ ~30% of inference time, we estimate E2E gains of 7-9%.\"\n"
  id: M2
  inner_loop_count: 0
  max_inner_loops: 1
  priority: high
  status: completed
  title: Strengthen E2E Motivation (Validation Gap)
  type: WRITING_ONLY
- actions:
  - agent: writer
    expected_output: 更新后的 Methodology 和 Table 5 caption
    status: pending
    step: 1
    task: "解决 Table 3 vs Table 5 数据不一致问题：\n\n1. 在 §3.1 Methodology (line 179-180)\
      \ 添加 variance 说明：\n   \"Note: GPU measurements exhibit 5--8\\% run-to-run variance\
      \ due to\n    thermal throttling and memory state. We report results from the\n\
      \    most recent experimental runs; Tables 3 and 5 use different runs\n    but\
      \ show consistent trends.\"\n\n2. 更新 Table 5 caption (line 393-395) 为更简洁的表述：\n\
      \   改为: \"SDPA latency before and after dimension repair.\n          Run-to-run\
      \ variance (~6\\%) is within normal GPU measurement variability.\"\n\n3. 可选：统一两个\
      \ table 的 baseline 数据（使用 Table 5 的值更新 Table 3）\n   但这可能需要重新运行实验，暂不执行\n"
  depends_on: []
  description: 'Reviewer 指出：

    - Table 3 (Padding rescue): d=107 baseline = 2.192±.07ms

    - Table 5 (Repair perf): d=107 baseline = 2.064±.06ms

    - 差异约 6%，论文已在 caption 承认但仍令人担忧


    当前状态：Table 5 caption (line 393-395) 已有说明，但不够有说服力。


    建议修改：

    1. 明确哪个数据更有代表性（建议 Table 5，因为是更系统的实验）

    2. 或使用相同的实验 run 数据

    3. 在 Methodology 中添加 variance 讨论

    '
  id: M3
  inner_loop_count: 0
  max_inner_loops: 1
  priority: high
  status: completed
  title: Resolve Table 5 vs Table 3 Baseline Inconsistency
  type: WRITING_ONLY
- actions:
  - agent: writer
    expected_output: 更新后的 Fig 1 caption
    status: pending
    step: 1
    task: "修改 Figure 1 caption (line 121-122) 或图片本身：\n\n如果不修改图片（推荐，因为图片已生成）：\n改 caption\
      \ 为:\n\"Dimensional collapse in compressed LLMs. Post-training compression produces\n\
      \ irregular head dimensions (e.g., $d$=107) that cause 88\\% latency increase.\n\
      \ Dimension repair (padding to $d$=112) recovers 30\\% performance.\"\n"
  depends_on: []
  description: 'Reviewer 建议：在 Fig 1 (overview) 中添加具体数字

    - d=107 → "88% slower" with red warning

    - d=112 (padded) → "30% recovered" with green checkmark

    '
  id: m1
  inner_loop_count: 0
  max_inner_loops: 1
  priority: medium
  status: completed
  title: Figure 1 Add Concrete Numbers
  type: WRITING_ONLY
- actions:
  - agent: writer
    expected_output: 添加 FlashAttention 代码引用
    status: pending
    step: 1
    task: "在 §4.2 CUDA Kernel Layer (line 249-252) 添加代码引用：\n\n添加脚注或正文：\n\"FlashAttention-2\
      \ dispatches optimized kernels based on head dimension\n (see \\texttt{flash\\\
      _fwd\\_kernel.cu:dispatch\\_head\\_dim()} in the source).\\footnote{\n FlashAttention\
      \ GitHub: \\url{https://github.com/Dao-AILab/flash-attention},\n kernel dispatch\
      \ logic in \\texttt{csrc/flash\\_attn/flash\\_fwd\\_hdim*.cu}}\"\n"
  depends_on: []
  description: 'Reviewer 要求：§4.2 中提到 FlashAttention "internal slow paths" 但未提供代码引用

    '
  id: m2
  inner_loop_count: 0
  max_inner_loops: 1
  priority: medium
  status: completed
  title: Add FlashAttention Source Code Reference
  type: WRITING_ONLY
- actions:
  - agent: writer
    expected_output: 更新后的 Related Work 段落
    status: pending
    step: 1
    task: "在 §7 Related Work (line 469-476) 添加澄清：\n\n修改现有段落，添加：\n\"Among these methods,\
      \ SVD-based approaches (PaLU) and unstructured pruning\n (SparseGPT) can theoretically\
      \ produce misaligned dimensions.\n However, PaLU's production implementation\
      \ uses quantization constraints\n that enforce alignment. GPTQ and AWQ operate\
      \ on fixed-width groups\n (typically 128) and do not alter tensor dimensions.\n\
      \ Our work targets compression methods that \\emph{do not} include\n such alignment\
      \ constraints, including vanilla SVD and future methods\n that may relax these\
      \ constraints for better compression ratios.\"\n"
  depends_on: []
  description: 'Reviewer 问：SparseGPT, GPTQ, AWQ 是否也有这个问题？PaLU 已对齐，那问题范围有多大？

    '
  id: m3
  inner_loop_count: 0
  max_inner_loops: 1
  priority: medium
  status: completed
  title: Clarify Which Compression Methods Produce Misaligned Dims
  type: WRITING_ONLY
- actions:
  - agent: writer
    expected_output: 修复后的作者名
    status: pending
    step: 1
    task: '检查并修复 line 44 的作者名：


      当前: \author{Tian Lvy}

      修改为: \author{Tian Lyu}


      注：如果无法确认正确拼写，保持现状并在 notes 中标记

      '
  depends_on: []
  description: '"Tian Lvy" 可能是拼写错误（应为 "Tian Lyu"）

    '
  id: m4
  inner_loop_count: 0
  max_inner_loops: 1
  priority: high
  status: completed
  title: Fix Author Name Typo
  type: WRITING_ONLY
- actions:
  - agent: writer
    expected_output: 评估结果或简化后的公式
    status: pending
    step: 1
    task: "评估是否需要简化 Equation (1) (line 307-313)：\n\n当前版本是约束优化问题格式，相对清晰。\n但如果空间紧张，可改为：\n\
      \"We pad $d_{orig}$ to $d_{pad} = \\lceil d_{orig}/a \\rceil \\times a$\n where\
      \ $a=8$ (MINIMAL) or $a=16$ (OPTIMAL), minimizing memory overhead.\"\n\n决策：保持现有格式（低优先级，不影响评分）\n"
  depends_on: []
  description: 'Reviewer 建议 Equation (1) 过于复杂，可简化为 inline text

    '
  id: m5
  inner_loop_count: 0
  max_inner_loops: 1
  priority: low
  status: completed
  title: Simplify Equation (1)
  type: WRITING_ONLY
- actions:
  - agent: writer
    expected_output: 更新后的 Table 1 caption
    status: pending
    step: 1
    task: '在 Table 1 caption (line 213-214) 添加脚注：


      当前: "MEM\_EFFICIENT fails for D=107"

      修改为: "``---'''' indicates MEM\_EFFICIENT backend unavailable due to strict 8-alignment
      requirement."

      '
  depends_on: []
  description: 'Table 1 中 "---" 应解释为 "backend unavailable" 而非 "not applicable"

    '
  id: m6
  inner_loop_count: 0
  max_inner_loops: 1
  priority: low
  status: completed
  title: Clarify Table 1 '---' Meaning
  type: WRITING_ONLY
notes:
- 本轮所有 issues 都是 WRITING_ONLY，无需 GPU 实验
- 关键：上一轮标记 completed 但分数下降，说明修改不够精确
- 本轮需要逐字检查 reviewer 指出的具体位置
- M2 选择 Option B 而非 Option A（实验），因为实验证明所有 PaLU checkpoint 已对齐
- 停滞警告：必须采取不同策略，本轮重点是精确定位和定量估计
planner_summary: '本次 review 评分 7.0/10 (Weak Accept)，比上一轮 7.6 有所下降。


  关键问题分析：

  1. M1: 96.9% 数据来源 - 论文已有脚注，但 Abstract 和 Figure 3 caption 仍需更显式澄清

  2. M2: E2E validation gap - Reviewer 提出 3 个选项，需选择其一

  3. M3: Table 3 vs Table 5 数据不一致 (6% variance) - 需要解释或统一


  停滞警告：连续 24 次无有效进步。必须采取不同策略。


  策略决策：

  - M1: WRITING_ONLY - 强化现有澄清（更显式地在 Abstract 添加 "theoretical analysis"）

  - M2: WRITING_ONLY - 采用 Option B（扩展 Limitations，添加定量估计）

  - M3: WRITING_ONLY - 解释 variance 是正常现象，统一报告方法

  - Minor: 快速修复


  注意：上一轮所有 issues 标记 completed 但分数下降，说明修改不够彻底。

  本轮需要更精确地针对 reviewer 指出的具体位置进行修改。

  '
review_iteration: 11
review_score: 7.0
success_criteria:
  expected_score_improvement:
    current: 7.0
    with_M1_M2_M3_fixed: 7.8
    with_all_issues: 8.2
  must_complete:
  - 'M1: 96.9% 澄清（消除误导性表述）'
  - 'M2: E2E 定量估计（解决 validation gap）'
  - 'M3: Table 数据一致性（解决可信度问题）'
  - 'm4: 作者名拼写（基本正确性）'
  nice_to_have:
  - 'm5: Equation 简化'
  should_complete:
  - 'm1: Figure 1 具体数字'
  - 'm2: FlashAttention 代码引用'
  - 'm3: 压缩方法澄清'
  - 'm6: Table 1 脚注'
target_score: 8.0
writing_tasks:
- changes_required:
  - change: 添加 '(theoretical analysis)' 或 scope 限定
    section: Abstract
  - change: 改为 'Theoretical dimension distribution from Fisher-information-based rank
      allocation (unconstrained SVD)'
    section: Fig 3 caption
  description: 澄清 96.9% 数据来源（Abstract, Fig 3 caption）
  id: M1
  target_files:
  - Latex/main.tex
- changes_required:
  - change: 添加 E2E Impact Estimate 段落，估计 7-9% prefill, 2-3% decode
    section: §6.5 Limitations
  description: 扩展 Limitations 添加 E2E 定量估计
  id: M2
  target_files:
  - Latex/main.tex
- changes_required:
  - change: 添加 GPU variance 说明 (5-8%)
    section: §3.1 Methodology
  - change: 简化 variance 说明
    section: Table 5 caption
  description: 解决 Table 3 vs Table 5 数据不一致
  id: M3
  target_files:
  - Latex/main.tex
- changes_required:
  - change: 添加 '88% latency increase' 和 '30% recovered'
    section: Fig 1 caption
  description: Figure 1 caption 添加具体数字
  id: m1
  target_files:
  - Latex/main.tex
- changes_required:
  - change: 添加 FlashAttention GitHub 引用和具体文件路径
    section: §4.2
  description: 添加 FlashAttention 代码引用
  id: m2
  target_files:
  - Latex/main.tex
- changes_required:
  - change: 添加关于 SparseGPT, GPTQ, AWQ 是否产生不对齐维度的说明
    section: §7 Related Work
  description: 澄清哪些压缩方法产生不对齐维度
  id: m3
  target_files:
  - Latex/main.tex
- changes_required:
  - change: '''Tian Lvy'' → ''Tian Lyu'''
    section: \author block
  description: 修复作者名拼写
  id: m4
  target_files:
  - Latex/main.tex
- changes_required:
  - change: 保持现状或简化为 inline
    section: §5.1
  description: 评估 Equation (1) 简化
  id: m5
  target_files:
  - Latex/main.tex
- changes_required:
  - change: 添加 '--- indicates backend unavailable'
    section: Table 1 caption
  description: Table 1 添加脚注解释 '---'
  id: m6
  target_files:
  - Latex/main.tex
