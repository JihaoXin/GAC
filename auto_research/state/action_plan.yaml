created_at: '2026-01-29T09:35:00.000000'
issues:
- actions:
  - agent: literature
    expected_output: literature.yaml 更新，包含 10-15 篇新文献的详细信息
    status: pending
    step: 1
    task: "搜索并整理以下主题的关键文献（目标：找到 10-15 篇高质量引用）：\n1. GPU Tensor Core 对齐要求演化（Volta →\
      \ Ampere → Hopper）\n2. FlashAttention dimension 优化设计（GitHub issues/技术报告）\n3.\
      \ PaLU 对齐约束实现细节\n4. vLLM dimension handling 策略\n5. TensorRT implicit padding\
      \ 开销\n6. Hardware-aware neural network compression surveys (2024-2025)\n7. CUTLASS\
      \ 设计论文\n8. Roofline model 应用\n9. GPU memory hierarchy 论文\n\n输出格式：\n- 更新 auto_research/state/literature.yaml，添加：\n\
      \  - bibtex entries\n  - 每篇论文的关键贡献（1-2 句话）\n  - 如何引用到论文中（与哪个段落关联）\n"
  - agent: writer
    depends_on:
    - 1
    expected_output: Latex/main.tex 和 references.bib 更新，Related Work 扩展至 1.0-1.2 页
    status: pending
    step: 2
    task: "根据 literature.yaml 中的新文献，扩展 Latex/main.tex 的 Related Work (§7, lines 537-601)：\n\
      \n1. 在 \"Hardware Alignment Evolution\" 段落后，新增段落 \"Evolution of Alignment Constraints\"\
      （6-8 句话）：\n   - 描述 Volta (2017, K%8) → Ampere (2020, K%16) → Hopper (2023, TMA)\
      \ 的演化\n   - 引用 NVIDIA whitepapers 和技术文档\n   - 解释为什么约束逐渐收紧\n\n2. 扩展 \"Why Prior\
      \ Work Missed Alignment\" 段落（从当前约 4 句增至 8-10 句）：\n   - 添加 PaLU 32-multiple 选择的可能原因（empirical\
      \ profiling）\n   - 对比 GPTQ/AWQ 的固定宽度组设计\n   - 添加 vLLM 的硬编码维度列表 vs. 本文的形式化框架\n\
      \   - 引用具体的 GitHub issues 或技术文档\n\n3. 在 Related Work 最后，新增段落 \"Anticipating\
      \ Criticisms\"（6-8 句话）：\n   - 回答：\"如果生产系统已经解决，为什么需要这篇论文？\"\n   - 强调三重贡献：(1)\
      \ 系统诊断指导，(2) 揭示 why 而非 that，(3) 适用性框架\n   - 引用 Table 3 (Applicability Framework)\n\
      \n4. 添加引用到 references.bib（从 literature.yaml 复制 bibtex）\n\n预期效果：\n- 引用数从 46 增至\
      \ 56-60\n- Related Work 长度从 0.8 页增至 1.0-1.2 页\n- 批判性深度从 \"弱\" 提升至 \"中等\"\n"
  depends_on: []
  description: 'Related Work 仅 46 篇引用，列举式呈现，缺乏批判性分析和历史脉络。

    需要增加 10-15 篇关键文献，扩展 3 个段落：

    1. Evolution of Alignment Constraints (Volta → Ampere → Hopper)

    2. Why Prior Work Missed Alignment (PaLU, GPTQ/AWQ 的设计选择)

    3. Anticipating Criticisms (回应贡献新颖性质疑)

    '
  id: M1
  inner_loop_count: 0
  max_inner_loops: 2
  priority: high
  status: completed
  title: Related Work 文献深度和批判性不足
  type: LITERATURE_REQUIRED
- actions:
  - agent: writer
    expected_output: "Latex/main.tex line 534 更新，添加 \vspace{3mm}"
    status: pending
    step: 1
    task: '修改 Latex/main.tex 的 Related Work section (line 534)，

      在 \section{Related Work} 前添加垂直间距：


      ```latex

      \FloatBarrier  % Contain evaluation figures/tables


      \vspace{3mm}  % Add breathing space before Related Work section


      \section{Related Work}

      \label{sec:related}

      ```


      这是直接的 LaTeX 修改，不需要重新生成图表。

      '
  - agent: writer
    depends_on:
    - 1
    expected_output: main.pdf 更新，Page 6 布局改善
    status: pending
    step: 2
    task: '重新编译 LaTeX 并验证：

      1. Page 6 Related Work 与上方 Limitations 间距是否增加到 ≥ 5mm

      2. 内容是否仍然正常排版（没有溢出到下一页）


      如果间距仍不足，考虑将 Table 6 移至 Page 7。


      命令：

      cd Latex && pdflatex main.tex && pdflatex main.tex

      '
  depends_on: []
  description: 'Page 6 右栏中 Related Work 与 Limitations 文本框垂直间距约 2mm，低于推荐的 5mm。

    这是 LaTeX 排版问题，但由于已尝试 WRITING_ONLY 无效（重复 5 次），

    本轮通过调整图表尺寸来释放空间，间接解决布局问题。

    '
  id: M2
  inner_loop_count: 0
  max_inner_loops: 1
  priority: high
  status: completed
  title: Page 6 布局拥挤问题
  type: FIGURE_CODE_REQUIRED
- actions:
  - agent: writer
    expected_output: scripts/create_paper_figures.py 更新
    status: pending
    step: 1
    task: "修改 scripts/create_paper_figures.py，调整以下函数：\n\n1. **fig1_overview()**: 保持当前实现（概念图不易缩小）\n\
      \n2. **fig3_palu_distribution()**:\n   - 移除红色边框和 \"THEORETICAL ANALYSIS\" banner\n\
      \   - 在 caption 中用 italic 文字说明 \"Theoretical analysis...\"\n\n3. **fig5_repair_tradeoff()**:\n\
      \   - 调整 marker size 为更小的值\n   - 调整标签位置避免重叠（使用 xytext 和 textcoords）\n\n4. **所有图表的字体统一**:\n\
      \   - xlabel/ylabel: fontsize=9\n   - tick labels: labelsize=8\n   - legend:\
      \ fontsize=8\n\n注意：不要修改图表尺寸（width），因为尺寸在 LaTeX 中控制。\n只修改图表内部元素（字体、颜色、边框）。\n"
  - agent: writer
    depends_on:
    - 1
    expected_output: Latex/figures/ 中的 PDF 文件更新
    status: pending
    step: 2
    task: '运行 Python 脚本重新生成所有图表：


      cd /home/xinj/GAC

      python scripts/create_paper_figures.py


      验证输出：

      - Latex/figures/*.pdf 文件是否更新（检查时间戳）

      - 图表样式是否符合预期（字体大小、无红色边框）

      '
  - agent: writer
    depends_on:
    - 2
    expected_output: Latex/main.tex 更新（图表尺寸调整）
    status: pending
    step: 3
    task: '修改 Latex/main.tex 中的图表尺寸：


      - Figure 1 (line ~129): 保持 0.7\columnwidth（概念图）

      - Figure 3 (line ~199): 从 0.6\columnwidth 改为 0.5\columnwidth

      - Figure 5 (line ~479): 从 0.55\columnwidth 改为 0.45\columnwidth


      同时修改 Figure 3 caption，移除红色边框相关描述，改为：

      "Dimension distribution from unconstrained Fisher-information-based rank allocation

      (Llama-3-8B, r=0.8). Theoretical analysis shows 96.9% of 512 KV head dimensions

      would be misaligned."

      '
  - agent: writer
    depends_on:
    - 3
    expected_output: main.pdf 更新，图表尺寸优化
    status: pending
    step: 4
    task: '重新编译 LaTeX 并验证图表显示：


      cd Latex && pdflatex main.tex && pdflatex main.tex


      检查：

      - Figure 3 和 5 是否变小了

      - 图表内文字是否仍然清晰（9-10pt）

      - Page 布局是否改善（释放了空间）

      '
  depends_on: []
  description: 'Figure 1, 3, 5 的信息量与空间占用严重不匹配：

    - Figure 1: 4 个框占 0.7\columnwidth

    - Figure 3: 10 个数据点占 0.6\columnwidth，红色边框过度强调

    - Figure 5: 6 个数据点占 0.55\columnwidth，右上象限空白


    需要修改 Python 绘图脚本并重新生成图表。

    '
  id: M3
  inner_loop_count: 0
  max_inner_loops: 2
  priority: high
  status: completed
  title: Figure 信息密度失衡
  type: FIGURE_CODE_REQUIRED
- actions:
  - agent: literature
    expected_output: literature.yaml 更新，包含 H100 相关文献
    status: pending
    step: 1
    task: '搜索 H100 架构相关文献：

      1. NVIDIA Hopper architecture whitepaper (TMA, WGMMA)

      2. FlashAttention-3 技术报告（为什么移除 96, 112 支持）

      3. H100 Tensor Core 对齐要求文档

      4. Hopper vs Ampere 性能对比论文


      更新 literature.yaml，添加 H100 相关引用（3-5 篇）。

      '
  - agent: writer
    depends_on:
    - 1
    expected_output: Latex/main.tex H100 段落扩展至 8-10 句话
    status: pending
    step: 2
    task: "扩展 Latex/main.tex 的 H100 Generalization 段落 (lines 621-624)，\n从当前 3 句话增至\
      \ 8-10 句话：\n\n内容要点：\n1. 当前 A100 focus 说明\n2. H100 架构相似性（4th-gen Tensor Cores,\
      \ m16n8k16）\n3. H100 新特性可能改变对齐敏感度：\n   - TMA (Tensor Memory Accelerator) cache-line-aware\
      \ 传输\n   - WGMMA 指令的 64×64 warpgroup tiles\n   - 不同的 SM count 和 memory hierarchy\n\
      4. FlashAttention-3 优化 {64, 128, 256}，移除 96/112 的可能原因\n5. 结论：需要 H100 empirical\
      \ validation，A100 发现可能需要架构特定调整\n\n引用 literature.yaml 中的 H100 文献。\n"
  depends_on: []
  description: 'H100 讨论仅 3 句话，纯推测无实验数据。

    需要扩展讨论或明确 A100-only scope。

    由于补充 H100 实验不现实（需要新硬件），选择扩展讨论段落。

    '
  id: M4
  inner_loop_count: 0
  max_inner_loops: 1
  priority: medium
  status: completed
  title: H100 Generalization 讨论过于简短
  type: LITERATURE_REQUIRED
- actions:
  - agent: writer
    expected_output: fig2_sdpa_latency.pdf 更新，字体增大，标签不重叠
    status: pending
    step: 1
    task: "修改 scripts/create_paper_figures.py 中的 fig2_sdpa_latency() 函数：\n\n1. 增大字体：\n\
      \   plt.xlabel('Head Dimension', fontsize=9)\n   plt.ylabel('Latency (ms)',\
      \ fontsize=9)\n   plt.tick_params(axis='both', labelsize=8)\n\n2. 调整数据点标签位置，避免与\
      \ marker 重叠：\n   使用 xytext=(offset_x, offset_y) 和 arrowprops\n\n然后运行：python\
      \ scripts/create_paper_figures.py\n"
  depends_on:
  - M3
  description: 'Figure 2 Y 轴标签约 7pt，X 轴约 8pt。

    数据点标签 "2.19ms" 与橙色 marker 重叠。

    '
  id: m1
  inner_loop_count: 0
  max_inner_loops: 1
  priority: medium
  status: completed
  title: Figure 2 字体过小和数据点标签重叠
  type: FIGURE_CODE_REQUIRED
- actions:
  - agent: writer
    expected_output: fig4_root_cause.pdf 更新，绿色对比度改善
    status: pending
    step: 1
    task: '修改 scripts/create_paper_figures.py 中的 fig4_root_cause() 函数：


      将绿色从当前值改为深绿 ''#006400'' 或青色 ''#008B8B''。

      或添加 hatching patterns 增强区分度：

      hatches=[''///'', ''\\\\\\'', ''|||'', ''---'']


      然后运行：python scripts/create_paper_figures.py

      '
  depends_on:
  - M3
  description: 'Figure 4 的绿色（SDPA BW 40%）对比度不足，打印时不明显。

    '
  id: m2
  inner_loop_count: 0
  max_inner_loops: 1
  priority: low
  status: completed
  title: Figure 4 颜色对比度不足
  type: FIGURE_CODE_REQUIRED
- actions:
  - agent: writer
    expected_output: Table 1 数值精度统一
    status: pending
    step: 1
    task: '修改 Latex/main.tex Table 1 (lines 227-240)，

      统一所有数值为 2 位小数：

      - 26.0 → 26.00

      - 26.5 → 26.50

      - 27.0 → 27.00

      - 27.1 → 27.10

      - 28.1 → 28.10

      '
  depends_on: []
  description: 'Table 1 部分数值 2 位小数（1.17ms），部分 1 位（26.0ms）。

    这是 LaTeX 表格内容修改，不涉及 Python 代码。

    '
  id: m3
  inner_loop_count: 0
  max_inner_loops: 1
  priority: low
  status: completed
  title: Table 1 数值精度不一致
  type: WRITING_ONLY
- actions:
  - agent: writer
    expected_output: Abstract 精简至 10 行，保留 4 个关键数字
    status: pending
    step: 1
    task: '修改 Latex/main.tex Abstract (lines 74-84)，精简数字：


      保留的关键数字：

      - 88% (SDPA latency increase)

      - 96.9% (theoretical misalignment)

      - --0.8% (negative validation)

      - +86.9% (positive validation)


      移除的数字：

      - 58%, 50%, 40% (root causes) → 改为定性描述

      - 22-28%, 3.7-7.2%, ROI 3.5-5.9× → 移到正文


      目标：压缩至 10 行，保持信息完整性。

      '
  depends_on: []
  description: 'Abstract 约 12 行，包含 10+ 具体数值，overwhelming。

    需要压缩至 10 行，仅保留 3-4 key numbers。

    '
  id: m4
  inner_loop_count: 0
  max_inner_loops: 1
  priority: low
  status: completed
  title: Abstract 过长且数字过载
  type: WRITING_ONLY
- actions:
  - agent: writer
    expected_output: Limitations 改为独立子节，格式标准化
    status: pending
    step: 1
    task: "修改 Latex/main.tex §6.6 Limitations (lines 519-530)：\n\n1. 改为独立子节（保持在 §6\
      \ 内）：\n   \\subsection{Limitations}\n   \\label{sec:limitations}\n\n2. 移除 \\\
      fbox，使用标准段落格式：\n   \\noindent\\textbf{L1. Applicability Scope:} ...\n\n   \\\
      noindent\\textbf{L2. Downstream Tasks:} ...\n\n   \\noindent\\textbf{L3. Hardware:}\
      \ ...\n\n3. 每个 limitation 扩展至 2-3 句话。\n"
  depends_on: []
  description: 'Limitations 使用 \fbox 格式，不够突出。

    改为独立子节，扩展至 6-8 句话。

    '
  id: m5
  inner_loop_count: 0
  max_inner_loops: 1
  priority: low
  status: completed
  title: Limitations 格式改进
  type: WRITING_ONLY
- actions:
  - agent: writer
    expected_output: references.bib 格式统一
    status: pending
    step: 1
    task: '修改 references.bib，统一格式：


      1. arXiv 论文统一为 "arXiv:XXXX.XXXXX (YYYY)"

      2. 会议论文添加 DOI（如果可用）

      3. 移除冗余 GitHub URL（可在 footnote 中引用）


      使用 BibTeX 标准字段，确保 ACM Reference Format 正确渲染。

      '
  depends_on: []
  description: 'References 中 arXiv 论文格式不统一，部分缺少 DOI。

    '
  id: m6
  inner_loop_count: 0
  max_inner_loops: 1
  priority: low
  status: completed
  title: References 格式统一
  type: WRITING_ONLY
planner_summary: '本轮 review 显示分数停滞在 7.0/10，主要瓶颈是 Paper Presentation (6.0/10)。

  Memory 系统检测到所有 issues 已重复 5 次，并且上一轮修复无效（Issues still repeating: M1, M2, M3）。


  **关键诊断**：

  - Reviewer 明确指出瓶颈是视觉呈现问题（图表尺寸、布局拥挤）

  - 之前尝试的 WRITING_ONLY 和 EXPERIMENT_REQUIRED 对 presentation 问题无效

  - 根据策略升级规则（重复 5 次必须换方法），禁用 WRITING_ONLY


  **本轮策略（强制变更）**：

  1. **M1, M4**: LITERATURE_REQUIRED - 扩展 Related Work，增加 10-15 篇引用

  2. **M2, M3, m1-m6**: FIGURE_CODE_REQUIRED - 修改 Python 绘图脚本，调整图表尺寸和样式


  这是根本性策略转变：从修改 LaTeX 文字 → 修改 Python 代码生成更好的图表。

  '
review_iteration: 101
writing_tasks:
- changes_required:
  - change: "1. 重新编译 LaTeX（两次以确保引用正确）：\n   cd Latex && pdflatex main.tex && bibtex\
      \ main && pdflatex main.tex && pdflatex main.tex\n\n2. 验证关键改进：\n   - Page 6\
      \ 布局是否改善（Related Work 间距 ≥ 5mm）\n   - Figure 3, 5 尺寸是否缩小\n   - Related Work\
      \ 是否扩展至 1.0-1.2 页\n   - H100 讨论是否扩展至 8-10 句话\n   - 所有图表字体是否 ≥ 9pt\n\n3. 检查页数：正文应为\
      \ 6 页（不含引用）\n\n4. 生成 PNG 预览（可选）：\n   python scripts/pdf_to_images.py\n"
    section: 全文
  description: 所有修改完成后，最终编译和验证
  id: FINAL_COMPILATION
  target_files:
  - Latex/main.tex
  - Latex/main.pdf
